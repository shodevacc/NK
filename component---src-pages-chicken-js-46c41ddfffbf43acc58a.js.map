{"version":3,"sources":["webpack:///./src/pages/chicken.js","webpack:///./src/components/Buy.js","webpack:///./src/styles/buy.module.css"],"names":["chicken","title","data","id","basePrice","description","minimumWeight","src","link","Buy","pk","category","selectRef","useRef","cart","useSelector","state","isBrowser","window","dispatch","useDispatch","addItem","FilterCartProduct","CartProducts","filter","prod","initialState","length","weight","useState","setWeight","SubmitButton","console","log","className","type","onClick","event","handleSubmit","value","target","current","preventDefault","stopPropagation","info","parseInt","price","toFixed","AddItem","ToggleCart","newWeight","newPrice","UpdateItem","CartLoading","styles","container","productFlexImage","productFlexInfo","card","style","width","Fragment","cardHeader","cardTitle","flexColMd","color","productAddForm","onSubmit","htmlFor","onChange","e","ref","name","module","exports"],"mappings":"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","file":"component---src-pages-chicken-js-46c41ddfffbf43acc58a.js","sourcesContent":["import React from \"react\"\nimport Buy from \"../components/Buy\"\nimport Layout from \"../components/layout\"\n\nfunction chicken() {\n  var data = {\n    id:0,\n    title: \"Chicken Biryani\",\n    basePrice: 100,\n    description: \"This is the chicken biryani\",\n    minimumWeight:3,\n    src:\"chicken\",\n    link:\"/chicken\"\n  }\n  return (\n    <Layout title=\"chicken biryani\">\n      <Buy data={data} />\n    </Layout>\n  )\n}\n\nexport default chicken\n","import React, { useState, useRef } from \"react\"\nimport { useSelector, useDispatch } from \"react-redux\"\nimport { AddItem, UpdateItem } from \"../Redux/actions/CartActions\"\n// import { addCartProduct, UpdateItem } from '../Redux/actions/CartActions'\n// import { BuyImage } from \"../../Images\"\nimport Img from \"./BuyImages\"\nimport { ToggleCart } from \"../Redux/actions/ToggleCart\"\nimport styles from \"../styles/buy.module.css\"\n\nexport default function Buy({ pk, category, src, data }) {\n\n  const selectRef = useRef(null)\n  const cart = useSelector(state => state.cart)\n  // const quantity=useState(3)\n  const isBrowser=typeof window !== 'undefined'\n  const dispatch = useDispatch()\n  var addItem = true //Check if whether to update or add item\n  //Check if the product is already in the cart\n  const FilterCartProduct =isBrowser&& cart.CartProducts.filter(prod => prod.id == data.id)\n  // console.log(\"FILTERED\",FilterCartProduct, Array.isArray(cart.CartProducts))\n  const CurrentProduct = {\n    title: \"chicken\",\n    weight: \"500\",\n    serves: \"2\",\n    price: 10,\n    category: \"CHICKEN\",\n  }\n  //   const CurrentProduct = product.products.filter(item => item.id == pk)[0]\n  var initialState = data.minimumWeight\n  if (cart.CartProducts.length > 0 && FilterCartProduct.length > 0) {\n    //if product exists in cart\n    addItem = false\n    initialState = FilterCartProduct[0].weight\n  }\n  const [weight, setWeight] = useState(initialState)\n\n  const SubmitButton = () => {\n    if (FilterCartProduct.length > 0 && weight == FilterCartProduct[0].weight) {\n      console.log(\"ITEMS ARE NOT CHANGED\")\n      return (\n        <button className=\"logo-red-btn-disabled\" type=\"submit\">\n          No Changes\n        </button>\n      )\n    } else {\n      console.log(\"ITEMS ARE CHANGED\", FilterCartProduct)\n      return (\n        <input\n          onClick={event => handleSubmit(event)}\n          className=\"logo-red-btn \"\n          type=\"submit\"\n          value=\"confirm\"\n        />\n      )\n    }\n  }\n\n  const handleSubmit = event => {\n    console.log(event, event.target)\n    console.log(selectRef.current.value)\n    event.preventDefault()\n    event.stopPropagation()\n\n    if (addItem) {\n      //Check if item needs to be updaed or added\n      let info = {\n        ...data,\n        weight: parseInt(weight),\n        price: parseInt(\n          ((weight * data.basePrice) / data.minimumWeight).toFixed(2)\n        ),\n      }\n      dispatch(AddItem(info))\n      //   dispatch(addCartProduct([info]))\n      dispatch(ToggleCart())\n    } else {\n      let info = {\n        id: data.id,\n        newWeight: weight,\n        newPrice: parseInt(\n          ((weight * data.basePrice) / data.minimumWeight).toFixed(2)\n        ),\n      }\n      dispatch(UpdateItem(info))\n      dispatch(ToggleCart())\n    }\n  }\n\n  //When new weight is selected\n  const handleChange = e => {\n    setWeight(parseInt(selectRef.current.value))\n  }\n  const CartProducts = () => {\n    if (cart.CartLoading) {\n      return <div>Loading</div>\n    } else {\n      return (\n        <div className={styles.container}>\n          <Img className={styles.productFlexImage} src={data.src} />\n          {/* <BuyImage\n              category={CurrentProduct.category}\n              title={CurrentProduct.title}\n            /> */}\n          <div className={styles.productFlexInfo}>\n            <div className={styles.card} style={{ width: \"100%\" }}>\n              <React.Fragment>\n                <div className={styles.cardHeader}>\n                  <h5 className={styles.cardTitle}>{data.title}</h5>\n                </div>\n                <p>{data.description}</p>\n                <div className={styles.flexColMd}>\n                  <p>\n                    <b style={{ color: \"#f9090a\" }}>\n                      MRP: â‚¹\n                      {((weight * data.basePrice) / data.minimumWeight).toFixed(\n                        2\n                      )}\n                    </b>{\" \"}\n                  </p>\n                </div>\n\n                <div className={styles.productAddForm}>\n                  <form onSubmit={() => handleSubmit()}>\n                    <label htmlFor=\"weight\">\n                      <b>Net Weight:</b>\n                    </label>\n                    <select\n                      onChange={e => handleChange(e)}\n                      ref={selectRef}\n                      name=\"weight\"\n                      id=\"weight\"\n                      value={weight}\n                    >\n                      <option value=\"3\">3kg</option>\n                      <option value=\"4\">4kg</option>\n                      <option value=\"5\">5kg</option>\n                      <option value=\"6\">6kg</option>\n                    </select>\n                    <br />\n                    <br />\n                    <SubmitButton />\n                  </form>\n                </div>\n              </React.Fragment>\n            </div>\n          </div>\n        </div>\n      )\n    }\n  }\n\n  return <CartProducts />\n}\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"container\":\"buy-module--container--3IfgP\",\"productFlexImage\":\"buy-module--productFlexImage--2aoqT\",\"productFlexInfo\":\"buy-module--productFlexInfo--2fZF8\",\"productAddForm\":\"buy-module--productAddForm--27B9w\",\"productButtonGroup\":\"buy-module--productButtonGroup--3BEMi\",\"groupButton\":\"buy-module--groupButton--z-apE\"};"],"sourceRoot":""}